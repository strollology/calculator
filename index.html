<!DOCTYPE html>
<html>
<head>
	<title>Fatigue Factor Calculator</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<h1>Fatigue Factor Calculator</h1>
	<form>
		<label for="test300m">300m Test Time (mm:ss.t):</label>
		<input type="text" id="test300m" name="test300m" placeholder="mm:ss.t">
		<label for="test1_5mile">1.5 Mile Test Time (mm:ss.t):</label>
		<input type="text" id="test1_5mile" name="test1_5mile" placeholder="mm:ss.t">
		<button type="button" id="calculate">Calculate</button>
		<div id="error"></div>
		<div id="result"></div>
		<div id="optimal">Optimal: 20-21%</div>
		<div id="priority"></div>
	</form>
	<script>
  function timeToSeconds(time) {
    const parts = time.split(":");
    const minutes = parseInt(parts[0]);
    const seconds = parseFloat(parts[1]);
    return minutes * 60 + seconds;
  }

  document.addEventListener("DOMContentLoaded", function() {
    const calculateButton = document.getElementById("calculate");
    const errorDiv = document.getElementById("error");
    const resultDiv = document.getElementById("result");
    const priorityDiv = document.getElementById("priority");
    const goalDiv = document.getElementById("goal");

    calculateButton.addEventListener("click", () => {
      const test300m = document.getElementById("test300m").value;
      const test1_5mile = document.getElementById("test1_5mile").value;

      if (test300m === "" || test1_5mile === "") {
        errorDiv.textContent = "Please enter both test times.";
        resultDiv.textContent = "";
        priorityDiv.textContent = "";
        goalDiv.textContent = "";
      } else {
        errorDiv.textContent = "";

        const test300mSeconds = timeToSeconds(test300m);
        const test1_5mileSeconds = timeToSeconds(test1_5mile);

const fatigueFactor = Math.log(test1_5mileSeconds / test300mSeconds) / Math.log(300 / (1609 * 1.5));
const fatiguePercentage = (fatigueFactor / 0.01).toFixed(2);

resultDiv.textContent = "Fatigue Factor: " + fatiguePercentage + "%";


        if (fatigueFactor < 20.5) {
          priorityDiv.textContent = "Training Priority: Speed";
          goalDiv.textContent =
            "Goal Distance/Time: " +
            "300m Time: " +
            new Date(test300mSeconds * Math.pow(0.833, fatigueFactor / 100) * 1000)
              .toISOString()
              .substr(14, 5) +
            " (m:ss)";
        } else if (fatigueFactor > 20.5) {
          priorityDiv.textContent = "Training Priority: Endurance";
          goalDiv.textContent =
            "Goal Distance/Time: " +
            "1.5-mile Time: " +
            new Date(test1_5mileSeconds * Math.pow(1.2, fatigueFactor / 100) * 1000)
              .toISOString()
              .substr(14, 5) +
            " (mm:ss)";
        } else {
          priorityDiv.textContent = "Training Priority: Balanced";
          goalDiv.textContent = "Perfect Speed & Endurance FF\nMaintain Current Equal Balance";
        }
      }
    });
  });
</script>



</body>
</html>
