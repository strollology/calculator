<!DOCTYPE html>
<html>
<head>
	<title>Fatigue Factor Calculator</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 20px;
		}
		h1 {
			font-size: 24px;
		}
		label {
			display: block;
			margin-bottom: 5px;
		}
		input[type="text"] {
			padding: 5px;
			font-size: 16px;
			border: 1px solid #ccc;
			border-radius: 5px;
			margin-bottom: 10px;
			width: 200px;
		}
		input[type="submit"] {
			background-color: #008CBA;
			color: #fff;
			border: none;
			padding: 10px;
			border-radius: 5px;
			cursor: pointer;
		}
		.result {
			margin-top: 20px;
			font-weight: bold;
			font-size: 20px;
		}
	</style>
	function calculate() {
			const test300m = document.getElementById("test-300m").value;
			const test1_5mile = document.getElementById("test-1-5-mile").value;
			const test300mSeconds = timeToSeconds(test300m);
			const test1_5mileSeconds = timeToSeconds(test1_5mile);
			const fatigueFactor = ((Math.log10(300 / (test300mSeconds / 60)) / Math.log10(1609 / (test1_5mileSeconds / 60))) - 1) * 100;
			const trainingPriority = fatigueFactor < 0 ? "Speed" : "Endurance";
			const goal300mTime = secondsToTime(test300mSeconds * Math.pow(0.993, Math.abs(fatigueFactor)));

			document.getElementById("result").innerHTML = `Fatigue Factor: ${fatigueFactor.toFixed(2)}%<br>Training Priority: ${trainingPriority} Goal 300m Time: ${goal300mTime}`;
		}

		function timeToSeconds(time) {
			const [minutes, seconds, milliseconds] = time.split(":");
			return (Number(minutes) * 60) + Number(seconds) + (Number(milliseconds) / 1000);
		}

		function secondsToTime(seconds) {
			const minutes = Math.floor(seconds / 60);
			const remainingSeconds = seconds - (minutes * 60);
			const formattedSeconds = remainingSeconds.toFixed(1).toString().padStart(4, "0");
			return `${minutes}:${formattedSeconds}`;
		}
	</script>
</head>
<body>
	<h1>Fatigue Factor Calculator</h1>
	<form onsubmit="return calculate()">
		<label>300m Test Time (m:ss.0)</label>
		<input type="text" id="test300m" placeholder="mm:ss.0" value="01:07">
		<label>1.5-mile Test Time (mm:ss)</label>
		<input type="text" id="test1-5mile" placeholder="mm:ss" value="13:47">
		<input type="submit" value="Calculate">
	</form>
	<div class="result" id="result"></div>
</body>
</html>
